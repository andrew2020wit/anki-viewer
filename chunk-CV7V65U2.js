import{n as I}from"./chunk-SW2ZE6OU.js";import{B as m,E as s,H as n,i as d,j as l,q as c,sb as h,z as f}from"./chunk-U47C5U2E.js";var C=(o=>(o[o.Again=1]="Again",o[o.Hard=2]="Hard",o[o.Normal=3]="Normal",o[o.Easy=4]="Easy",o))(C||{});var a="http://127.0.0.1:8765";var w="ankiRequestText";var A={0:"new",1:"learning",2:"review",3:"relearning"};var p=class e{constructor(r){this.snackBar=r}show(r){this.snackBar.open(r,"",{duration:1e3,verticalPosition:"top",panelClass:"info-snack"})}error(r){this.snackBar.open(r,"",{duration:3e3,verticalPosition:"top",panelClass:"error-snack"})}static \u0275fac=function(t){return new(t||e)(n(I))};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};var v=class e{constructor(r,t){this.http=r;this.info=t}findCards(r){return this.http.post(a,{action:"findCards",version:6,params:{query:r}}).pipe(c(t=>{throw this.info.error("There is error with anki-connection"),t}),m(t=>{t?.error&&this.info.error("Anki findCards error")}),f(t=>this.http.post(a,{action:"cardsInfo",version:6,params:{cards:t.result}}).pipe(m(i=>{i?.error&&this.info.error("Anki findCards error")}),l(i=>i.result))))}answerCardsByIds(r,t){return r.length?this.http.post(a,{action:"forgetCards",version:6,params:{cards:r}}).pipe(c(i=>{throw this.info.error("There is error with anki-connection"),i}),f(()=>this.http.post(a,{action:"answerCards",version:6,params:{answers:r.map(i=>({cardId:i,ease:t}))}}))):d(!1)}static \u0275fac=function(t){return new(t||e)(n(h),n(p))};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};export{C as a,w as b,A as c,p as d,v as e};

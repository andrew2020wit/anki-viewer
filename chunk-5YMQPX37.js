import{a as u}from"./chunk-6TPRDAXS.js";import{B as f,E as s,H as o,i as m,j as d,pa as I,q as c,sb as h,z as l}from"./chunk-U47C5U2E.js";var w=(n=>(n[n.Again=1]="Again",n[n.Hard=2]="Hard",n[n.Normal=3]="Normal",n[n.Easy=4]="Easy",n))(w||{});var a="http://127.0.0.1:8765";var A="ankiRequestText";var S={0:"new",1:"learning",2:"review",3:"relearning",9:"unknown"};var k=class e{transform(r){if(!r)return"";let t=r.lastIndexOf("$");if(t===-1)return r;let i=r.slice(t+1),n=r.slice(0,t);return i.trim()===n.trim()?i:r}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=I({name:"transcription",type:e,pure:!0})};var p=class e{constructor(r){this.snackBar=r}show(r){this.snackBar.open(r,"",{duration:1e3,verticalPosition:"top",panelClass:"info-snack"})}error(r){this.snackBar.open(r,"",{duration:3e3,verticalPosition:"top",panelClass:"error-snack"})}static \u0275fac=function(t){return new(t||e)(o(u))};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};var b=class e{constructor(r,t){this.http=r;this.info=t}findCards(r){return this.http.post(a,{action:"findCards",version:6,params:{query:r}}).pipe(c(t=>{throw this.info.error("There is error with anki-connection"),t}),f(t=>{t?.error&&this.info.error("Anki findCards error")}),l(t=>this.http.post(a,{action:"cardsInfo",version:6,params:{cards:t.result}}).pipe(f(i=>{i?.error&&this.info.error("Anki findCards error")}),d(i=>i.result))))}answerCardsByIds(r,t){return r.length?this.http.post(a,{action:"answerCards",version:6,params:{answers:r.map(i=>({cardId:i,ease:t}))}}).pipe(c(i=>{throw this.info.error("There is error with anki-connection"),i})):m(!1)}static \u0275fac=function(t){return new(t||e)(o(h),o(p))};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};export{w as a,A as b,S as c,k as d,p as e,b as f};
